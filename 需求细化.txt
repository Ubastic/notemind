å®Œç¾ï¼æ–¹æ¡ˆç¡®å®šï¼Œæˆ‘ç°åœ¨ç»™ä½ å®Œæ•´çš„äº§å“è®¾è®¡æ–‡æ¡£å’ŒæŠ€æœ¯å®ç°æ–¹æ¡ˆã€‚

---

# ğŸ“‹ äº§å“è®¾è®¡æ–¹æ¡ˆ - AIæ™ºèƒ½ç¬”è®°æœ¬

## ä¸€ã€äº§å“æ¦‚è¿°

**äº§å“åç§°**ï¼šNoteMindï¼ˆç¬”è®°å¤§è„‘ï¼‰

**æ ¸å¿ƒä»·å€¼**ï¼š
- è®°å½•æ··ä¹±ï¼Œæ£€ç´¢æ™ºèƒ½
- é›¶æ€è€ƒè®°å½•ï¼ŒAIè‡ªåŠ¨æ•´ç†
- ç¬¬äºŒå¤§è„‘ï¼Œæ°¸ä¸é—å¿˜

**ç›®æ ‡ç”¨æˆ·**ï¼šæ€ç»´è·³è·ƒã€è®°å½•ç¢ç‰‡åŒ–ã€éœ€è¦å¿«é€Ÿå­˜å–ä¿¡æ¯çš„ä¸ªäººç”¨æˆ·

---

## äºŒã€åŠŸèƒ½æ¶æ„

```
NoteMind
â”œâ”€â”€ æ ¸å¿ƒåŠŸèƒ½
â”‚   â”œâ”€â”€ å¿«é€Ÿè®°å½•ï¼ˆAIè‡ªåŠ¨åˆ†ç±»/æ‰“æ ‡ç­¾/æå–å®ä½“ï¼‰
â”‚   â”œâ”€â”€ æ™ºèƒ½æœç´¢ï¼ˆè¯­ä¹‰æœç´¢+å…³é”®è¯+æ—¶é—´ç­›é€‰ï¼‰
â”‚   â”œâ”€â”€ å¤šè§†å›¾æµè§ˆï¼ˆæ—¶é—´è½´/åˆ†ç±»/éšæœºï¼‰
â”‚   â””â”€â”€ æ•æ„Ÿä¿¡æ¯ä¿æŠ¤ï¼ˆè‡ªåŠ¨åŠ å¯†+åŒ¿ååŒ–ï¼‰
â”‚
â”œâ”€â”€ è¾…åŠ©åŠŸèƒ½
â”‚   â”œâ”€â”€ åˆ†äº«é“¾æ¥ï¼ˆå•æ¡/æ‰¹é‡ï¼Œæ”¯æŒæœ‰æ•ˆæœŸï¼‰
â”‚   â”œâ”€â”€ AIé—®ç­”ï¼ˆç›´æ¥é—®"XXå¯†ç æ˜¯å¤šå°‘"ï¼‰
â”‚   â”œâ”€â”€ å®šæœŸæ€»ç»“ï¼ˆå‘¨æŠ¥è‡ªåŠ¨ç”Ÿæˆï¼‰
â”‚   â””â”€â”€ æ•°æ®å¯¼å‡ºï¼ˆMarkdown/JSONï¼‰
â”‚
â””â”€â”€ åŸºç¡€åŠŸèƒ½
    â”œâ”€â”€ ç”¨æˆ·è®¤è¯ï¼ˆç®€å•å¯†ç +JWTæŒä¹…åŒ–ï¼‰
    â”œâ”€â”€ å¿«æ·é”®æ”¯æŒï¼ˆCtrl+Kè®°å½•ï¼ŒCtrl+Fæœç´¢ï¼‰
    â””â”€â”€ å“åº”å¼è®¾è®¡ï¼ˆæ”¯æŒæ‰‹æœº/å¹³æ¿/æ¡Œé¢ï¼‰
```

---

## ä¸‰ã€è¯¦ç»†åŠŸèƒ½è®¾è®¡

### 3.1 å¿«é€Ÿè®°å½•æµç¨‹

```
ç”¨æˆ·è¾“å…¥
    â†“
å‰ç«¯æ•æ„Ÿä¿¡æ¯æ£€æµ‹ï¼ˆæ­£åˆ™åŒ¹é…å¯†ç ã€tokenã€IPç­‰ï¼‰
    â†“
ç”ŸæˆåŒ¿ååŒ–æ˜ å°„è¡¨ {ekjsdf: "Abc123456", xkdj92: "ghp_xxxx"}
    â†“
æ›¿æ¢åçš„æ–‡æœ¬ â†’ è°ƒç”¨é˜¿é‡Œäº‘å¤§æ¨¡å‹API
    â†“
AIè¿”å›ï¼š{
  category: "å‡­è¯",
  tags: ["é˜¿é‡Œäº‘", "æœåŠ¡å™¨"],
  summary: "é˜¿é‡Œäº‘ä¸»æœºç™»å½•ä¿¡æ¯",
  entities: {ip: "47.93.xx.xx", username: "root"},
  sensitivity: "high"
}
    â†“
å‰ç«¯è¿˜åŸæ•æ„Ÿä¿¡æ¯ ekjsdf â†’ Abc123456
    â†“
åŠ å¯†æ•æ„Ÿå­—æ®µï¼ˆAES-256ï¼Œå¯†é’¥ä»ç”¨æˆ·å¯†ç æ´¾ç”Ÿï¼‰
    â†“
å­˜å…¥SQLiteï¼ˆåŸæ–‡åŠ å¯†ï¼ŒAIå…ƒæ•°æ®ä¸åŠ å¯†ï¼‰
    â†“
æ˜¾ç¤ºï¼šâœ… å·²å®‰å…¨ä¿å­˜åˆ°ã€å‡­è¯åº“ã€‘
```

**æ•æ„Ÿä¿¡æ¯æ£€æµ‹è§„åˆ™**ï¼ˆå‰ç«¯æ­£åˆ™ï¼‰ï¼š
```javascript
const SENSITIVE_PATTERNS = {
  password: /password|passwd|pwd|å¯†ç [:ï¼š=]\s*\S+/i,
  token: /token|key|secret[:ï¼š=]\s*[\w-]+/i,
  ip: /\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/,
  email: /[\w.-]+@[\w.-]+\.\w+/,
  phone: /1[3-9]\d{9}/
}
```

---

### 3.2 æ™ºèƒ½æœç´¢å®ç°

**æœç´¢ä¼˜å…ˆçº§**ï¼š
1. **ç²¾ç¡®åŒ¹é…**ï¼ˆå…³é”®è¯ç›´æ¥å‘½ä¸­ï¼‰
2. **è¯­ä¹‰æœç´¢**ï¼ˆä½¿ç”¨Embeddingå‘é‡ç›¸ä¼¼åº¦ï¼‰
3. **å®ä½“åŒ¹é…**ï¼ˆæœç´¢æå–çš„entitieså­—æ®µï¼‰
4. **æ—¶é—´ç­›é€‰**ï¼ˆAIç†è§£"ä¸Šå‘¨""å»å¹´"ç­‰ï¼‰

**æœç´¢ç¤ºä¾‹**ï¼š
```
ç”¨æˆ·è¾“å…¥ï¼š"ä¸Šä¸ªæœˆé‚£ä¸ªæœºå™¨å­¦ä¹ é¡¹ç›®çš„æœåŠ¡å™¨"

AIè§£æï¼š
- æ—¶é—´ï¼šä¸Šä¸ªæœˆ â†’ created_at BETWEEN '2024-12-01' AND '2024-12-31'
- å®ä½“ï¼šæœºå™¨å­¦ä¹ é¡¹ç›® â†’ tags LIKE '%æœºå™¨å­¦ä¹ %'
- ç±»å‹ï¼šæœåŠ¡å™¨ â†’ category='å‡­è¯' OR content LIKE '%æœåŠ¡å™¨%'

SQLæŸ¥è¯¢ï¼š
SELECT * FROM notes 
WHERE created_at BETWEEN '2024-12-01' AND '2024-12-31'
  AND (tags LIKE '%æœºå™¨å­¦ä¹ %' OR content LIKE '%æœºå™¨å­¦ä¹ %')
  AND (category='å‡­è¯' OR content LIKE '%æœåŠ¡å™¨%')
ORDER BY similarity(embedding, query_embedding) DESC
LIMIT 10
```

---

### 3.3 ç•Œé¢è®¾è®¡ï¼ˆæç®€é»‘ç™½ï¼‰

**é…è‰²æ–¹æ¡ˆ**ï¼š
```
ä¸»è‰²ï¼š#000000ï¼ˆçº¯é»‘ï¼‰
èƒŒæ™¯ï¼š#FFFFFFï¼ˆçº¯ç™½ï¼‰
è¾¹æ¡†ï¼š#E5E5E5ï¼ˆæµ…ç°ï¼‰
æ¬¡è¦æ–‡å­—ï¼š#666666ï¼ˆä¸­ç°ï¼‰
å¼ºè°ƒè‰²ï¼š#000000ï¼ˆåŠ ç²—/ä¸‹åˆ’çº¿ï¼‰
```

**ä¸»ç•Œé¢çº¿æ¡†å›¾**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NoteMind                    [@ç”¨æˆ·å âš™ï¸]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ’­ æƒ³åˆ°ä»€ä¹ˆå°±å†™ä¸‹æ¥...            â”‚   â”‚
â”‚  â”‚  (Ctrl+K å¿«é€Ÿè®°å½•)                 â”‚   â”‚
â”‚  â”‚                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                            â”‚
â”‚  [æ—¶é—´è½´] [åˆ†ç±»] [éšæœº]         ğŸ” æœç´¢    â”‚
â”‚                                            â”‚
â”‚  ä»Šå¤© â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  â”‚                                         â”‚
â”‚  â”œâ”€ 15:30                                  â”‚
â”‚  â”‚  ğŸ’¡ æƒ³åšä¸€ä¸ªè‡ªåŠ¨åŒ–çˆ¬è™«...               â”‚
â”‚  â”‚  #Python #çˆ¬è™« #æƒ³æ³•                   â”‚
â”‚  â”‚  [æŸ¥çœ‹è¯¦æƒ…] [åˆ†äº«] [åˆ é™¤]               â”‚
â”‚  â”‚                                         â”‚
â”‚  â”œâ”€ 10:22                                  â”‚
â”‚  â”‚  ğŸ” é˜¿é‡Œäº‘ä¸»æœºæ›´æ–°å¯†ç                   â”‚
â”‚  â”‚  #é˜¿é‡Œäº‘ #æœåŠ¡å™¨ #å‡­è¯                 â”‚
â”‚  â”‚  [æŸ¥çœ‹è¯¦æƒ…] [åˆ†äº«] [åˆ é™¤]               â”‚
â”‚                                            â”‚
â”‚  æ˜¨å¤© â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  â”‚  ...                                    â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¯¦æƒ…å¡ç‰‡**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” é˜¿é‡Œäº‘ä¸»æœºç™»å½•ä¿¡æ¯          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                â”‚
â”‚  IP: 47.93.xx.xx               â”‚
â”‚  ç”¨æˆ·: root                     â”‚
â”‚  å¯†ç : ******** [ğŸ‘ï¸ æ˜¾ç¤º]      â”‚
â”‚                                â”‚
â”‚  åˆ›å»ºæ—¶é—´: 2025-01-18 10:22    â”‚
â”‚  åˆ†ç±»: å‡­è¯                     â”‚
â”‚  æ ‡ç­¾: #é˜¿é‡Œäº‘ #æœåŠ¡å™¨          â”‚
â”‚                                â”‚
â”‚  [ğŸ”— åˆ†äº«é“¾æ¥] [ğŸ“ ç¼–è¾‘] [ğŸ—‘ï¸ åˆ é™¤] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.4 æ•°æ®åº“è®¾è®¡ï¼ˆæœ€ç»ˆç‰ˆï¼‰

```sql
-- ç”¨æˆ·è¡¨
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    username TEXT UNIQUE NOT NULL,
    password_hash TEXT NOT NULL,  -- bcrypt hash
    salt TEXT NOT NULL,            -- ç”¨äºæ´¾ç”ŸåŠ å¯†å¯†é’¥
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ç¬”è®°è¡¨
CREATE TABLE notes (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    
    -- åŸå§‹å†…å®¹ï¼ˆæ•æ„Ÿä¿¡æ¯å·²åŠ å¯†ï¼‰
    content TEXT NOT NULL,
    content_encrypted BOOLEAN DEFAULT 0,
    
    -- AIç”Ÿæˆçš„å…ƒæ•°æ®ï¼ˆä¸åŠ å¯†ï¼Œç”¨äºæœç´¢ï¼‰
    ai_category TEXT,              -- å‡­è¯/å·¥ä½œ/çµæ„Ÿ/å¾…åŠ
    ai_summary TEXT,               -- æ‘˜è¦
    ai_tags TEXT,                  -- JSONæ•°ç»„: ["é˜¿é‡Œäº‘", "æœåŠ¡å™¨"]
    ai_entities TEXT,              -- JSONå¯¹è±¡: {ip: "...", username: "..."}
    ai_sensitivity TEXT,           -- low/medium/high
    
    -- å‘é‡æœç´¢ï¼ˆå­˜å‚¨embeddingçš„JSONï¼‰
    embedding TEXT,
    
    -- å…ƒä¿¡æ¯
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (user_id) REFERENCES users(id)
);

CREATE INDEX idx_notes_user_id ON notes(user_id);
CREATE INDEX idx_notes_created_at ON notes(created_at);
CREATE INDEX idx_notes_category ON notes(ai_category);

-- åˆ†äº«è¡¨
CREATE TABLE shares (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    note_id INTEGER NOT NULL,
    share_token TEXT UNIQUE NOT NULL,  -- éšæœºç”Ÿæˆ
    expires_at TIMESTAMP,
    view_count INTEGER DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (note_id) REFERENCES notes(id) ON DELETE CASCADE
);

CREATE INDEX idx_shares_token ON shares(share_token);
```

---

### 3.5 åŠ å¯†æ–¹æ¡ˆ

**å¯†é’¥æ´¾ç”Ÿ**ï¼ˆPBKDF2ï¼‰ï¼š
```python
from cryptography.hazmat.primitives.kdf.pbkdf2 import PBKDF2HMAC
from cryptography.hazmat.primitives import hashes

def derive_key(password: str, salt: bytes) -> bytes:
    kdf = PBKDF2HMAC(
        algorithm=hashes.SHA256(),
        length=32,
        salt=salt,
        iterations=100000,
    )
    return kdf.derive(password.encode())
```

**åŠ å¯†/è§£å¯†**ï¼ˆAES-256-GCMï¼‰ï¼š
```python
from cryptography.hazmat.primitives.ciphers.aead import AESGCM

def encrypt_content(plaintext: str, key: bytes) -> str:
    aesgcm = AESGCM(key)
    nonce = os.urandom(12)
    ciphertext = aesgcm.encrypt(nonce, plaintext.encode(), None)
    # è¿”å› base64(nonce + ciphertext)
    return base64.b64encode(nonce + ciphertext).decode()

def decrypt_content(encrypted: str, key: bytes) -> str:
    data = base64.b64decode(encrypted)
    nonce, ciphertext = data[:12], data[12:]
    aesgcm = AESGCM(key)
    plaintext = aesgcm.decrypt(nonce, ciphertext, None)
    return plaintext.decode()
```

**åŒ¿ååŒ–æµç¨‹**ï¼š
```python
import re
import secrets

def anonymize_sensitive_data(text: str) -> tuple[str, dict]:
    """è¿”å› (åŒ¿ååŒ–æ–‡æœ¬, æ˜ å°„è¡¨)"""
    mapping = {}
    
    def replace_match(match):
        original = match.group(0)
        placeholder = f"ANON_{secrets.token_hex(4)}"
        mapping[placeholder] = original
        return placeholder
    
    # åŒ¿ååŒ–å¯†ç ã€tokenç­‰
    anonymized = re.sub(
        r'(password|token|key|å¯†ç )[:ï¼š=]\s*(\S+)',
        replace_match,
        text,
        flags=re.IGNORECASE
    )
    
    return anonymized, mapping

def restore_sensitive_data(text: str, mapping: dict) -> str:
    """è¿˜åŸåŒ¿ååŒ–æ•°æ®"""
    for placeholder, original in mapping.items():
        text = text.replace(placeholder, original)
    return text
```

---

### 3.6 AIé›†æˆï¼ˆé˜¿é‡Œäº‘é€šä¹‰åƒé—®ï¼‰

**APIè°ƒç”¨ç¤ºä¾‹**ï¼š
```python
import dashscope
from http import HTTPStatus

def analyze_note(content: str) -> dict:
    """
    è°ƒç”¨é˜¿é‡Œäº‘å¤§æ¨¡å‹åˆ†æç¬”è®°
    è¿”å›: {category, tags, summary, entities, sensitivity}
    """
    
    prompt = f"""
è¯·åˆ†æä»¥ä¸‹ç¬”è®°å†…å®¹ï¼Œè¿”å›JSONæ ¼å¼ï¼š

ç¬”è®°å†…å®¹ï¼š
{content}

è¦æ±‚ï¼š
1. category: åˆ†ç±»ä¸º "å‡­è¯"/"å·¥ä½œ"/"çµæ„Ÿ"/"å¾…åŠ" ä¹‹ä¸€
2. tags: æå–3-5ä¸ªå…³é”®æ ‡ç­¾ï¼ˆæ•°ç»„ï¼‰
3. summary: ä¸€å¥è¯æ‘˜è¦ï¼ˆ20å­—å†…ï¼‰
4. entities: æå–çš„å®ä½“ï¼Œå¦‚ {{"ip": "...", "project": "..."}}
5. sensitivity: æ•æ„Ÿåº¦ "low"/"medium"/"high"

åªè¿”å›JSONï¼Œä¸è¦å…¶ä»–å†…å®¹ã€‚
"""
    
    response = dashscope.Generation.call(
        model='qwen-plus',  # æˆ– qwen-turbo
        prompt=prompt,
        result_format='message',
    )
    
    if response.status_code == HTTPStatus.OK:
        result = response.output.choices[0].message.content
        return json.loads(result)
    else:
        raise Exception(f"AIè°ƒç”¨å¤±è´¥: {response.message}")
```

**è¯­ä¹‰æœç´¢ï¼ˆä½¿ç”¨Embeddingï¼‰**ï¼š
```python
def get_embedding(text: str) -> list[float]:
    """è·å–æ–‡æœ¬å‘é‡"""
    response = dashscope.TextEmbedding.call(
        model=dashscope.TextEmbedding.Models.text_embedding_v1,
        input=text
    )
    return response.output.embeddings[0].embedding

def semantic_search(query: str, notes: list) -> list:
    """è¯­ä¹‰æœç´¢"""
    query_emb = get_embedding(query)
    
    # è®¡ç®—ä½™å¼¦ç›¸ä¼¼åº¦
    results = []
    for note in notes:
        note_emb = json.loads(note.embedding)
        similarity = cosine_similarity(query_emb, note_emb)
        results.append((note, similarity))
    
    # æŒ‰ç›¸ä¼¼åº¦æ’åº
    results.sort(key=lambda x: x[1], reverse=True)
    return [note for note, _ in results[:10]]
```

---

## å››ã€æŠ€æœ¯æ ˆæ˜ç»†

### åç«¯
```
FastAPI==0.104.1
SQLAlchemy==2.0.23
pydantic==2.5.0
python-jose[cryptography]==3.3.0  # JWT
passlib[bcrypt]==1.7.4             # å¯†ç hash
dashscope==1.14.0                  # é˜¿é‡Œäº‘AI
cryptography==41.0.7               # AESåŠ å¯†
sqlite3                            # å†…ç½®
```

### å‰ç«¯
```
React 18
Viteï¼ˆæ„å»ºå·¥å…·ï¼‰
Tailwind CSSï¼ˆé»‘ç™½æç®€é£æ ¼ï¼‰
axiosï¼ˆHTTPè¯·æ±‚ï¼‰
react-router-domï¼ˆè·¯ç”±ï¼‰
```

### éƒ¨ç½²
```
Ubuntu Server
Nginxï¼ˆåå‘ä»£ç†ï¼‰
PM2ï¼ˆè¿›ç¨‹ç®¡ç†ï¼‰
```

---

## äº”ã€APIè®¾è®¡

### è®¤è¯ç›¸å…³
```
POST   /api/auth/register      # æ³¨å†Œ
POST   /api/auth/login         # ç™»å½•ï¼ˆè¿”å›JWT tokenï¼‰
POST   /api/auth/logout        # ç™»å‡º
GET    /api/auth/me            # è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
```

### ç¬”è®°ç›¸å…³
```
POST   /api/notes              # åˆ›å»ºç¬”è®°ï¼ˆAIè‡ªåŠ¨å¤„ç†ï¼‰
GET    /api/notes              # è·å–ç¬”è®°åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µ/ç­›é€‰ï¼‰
GET    /api/notes/{id}         # è·å–å•æ¡ç¬”è®°è¯¦æƒ…
PUT    /api/notes/{id}         # æ›´æ–°ç¬”è®°
DELETE /api/notes/{id}         # åˆ é™¤ç¬”è®°
POST   /api/notes/search       # æ™ºèƒ½æœç´¢
GET    /api/notes/random       # éšæœºè·å–ç¬”è®°ï¼ˆçµæ„Ÿæ¿€å‘ï¼‰
```

### åˆ†äº«ç›¸å…³
```
POST   /api/shares             # åˆ›å»ºåˆ†äº«é“¾æ¥
GET    /api/shares/{token}     # è®¿é—®åˆ†äº«å†…å®¹ï¼ˆæ— éœ€ç™»å½•ï¼‰
DELETE /api/shares/{id}        # åˆ é™¤åˆ†äº«
```

### AIç›¸å…³
```
POST   /api/ai/ask             # AIé—®ç­”æ¨¡å¼
POST   /api/ai/summarize       # ç”Ÿæˆå‘¨æŠ¥æ€»ç»“
```

---

## å…­ã€å‰ç«¯é¡µé¢ç»“æ„

```
/                    # ä¸»é¡µï¼ˆæ—¶é—´è½´è§†å›¾ï¼‰
/login               # ç™»å½•é¡µ
/register            # æ³¨å†Œé¡µ
/category/:type      # åˆ†ç±»è§†å›¾ï¼ˆå‡­è¯/å·¥ä½œ/çµæ„Ÿ/å¾…åŠï¼‰
/search?q=xxx        # æœç´¢ç»“æœé¡µ
/note/:id            # ç¬”è®°è¯¦æƒ…é¡µ
/random              # éšæœºæµè§ˆé¡µ
/settings            # è®¾ç½®é¡µï¼ˆä¿®æ”¹å¯†ç ã€å¯¼å‡ºæ•°æ®ï¼‰
/share/:token        # åˆ†äº«é¡µï¼ˆå…¬å¼€è®¿é—®ï¼‰
```

---

## ä¸ƒã€å¼€å‘ä¼˜å…ˆçº§

**Phase 1ï¼ˆMVPï¼‰**ï¼š
1. âœ… ç”¨æˆ·è®¤è¯ï¼ˆæ³¨å†Œ/ç™»å½•/JWTï¼‰
2. âœ… åŸºç¡€ç¬”è®°CRUD
3. âœ… AIè‡ªåŠ¨åˆ†ç±»å’Œæ‰“æ ‡ç­¾
4. âœ… æ•æ„Ÿä¿¡æ¯åŠ å¯†
5. âœ… æ—¶é—´è½´è§†å›¾

**Phase 2ï¼ˆå¢å¼ºï¼‰**ï¼š
6. âœ… æ™ºèƒ½æœç´¢ï¼ˆå…³é”®è¯+è¯­ä¹‰ï¼‰
7. âœ… åˆ†ç±»è§†å›¾
8. âœ… åˆ†äº«åŠŸèƒ½
9. âœ… éšæœºæµè§ˆ

**Phase 3ï¼ˆä¼˜åŒ–ï¼‰**ï¼š
10. âœ… AIé—®ç­”æ¨¡å¼
11. âœ… å‘¨æŠ¥è‡ªåŠ¨æ€»ç»“
12. âœ… æ•°æ®å¯¼å‡º
13. âœ… å¿«æ·é”®æ”¯æŒ

---

## å…«ã€å®‰å…¨è€ƒè™‘

1. **å¯†ç å®‰å…¨**ï¼šbcrypt hash + salt
2. **æ•°æ®åŠ å¯†**ï¼šæ•æ„Ÿå†…å®¹AES-256-GCMåŠ å¯†
3. **ä¼ è¾“å®‰å…¨**ï¼šå¼ºåˆ¶HTTPSï¼ˆNginxé…ç½®ï¼‰
4. **APIå®‰å…¨**ï¼šJWT tokenéªŒè¯ï¼Œ7å¤©è¿‡æœŸ
5. **SQLæ³¨å…¥**ï¼šä½¿ç”¨ORMå‚æ•°åŒ–æŸ¥è¯¢
6. **XSSé˜²æŠ¤**ï¼šå‰ç«¯è¾“å‡ºè½¬ä¹‰
7. **CSRFé˜²æŠ¤**ï¼šSameSite Cookie
8. **APIå¯†é’¥**ï¼šå­˜ç¯å¢ƒå˜é‡ï¼Œä¸æäº¤ä»£ç 

---

## ä¹ã€éƒ¨ç½²æ–¹æ¡ˆ

```bash
# æœåŠ¡å™¨ç›®å½•ç»“æ„
/opt/notemind/
â”œâ”€â”€ backend/          # FastAPIåç«¯
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ notemind.db   # SQLiteæ•°æ®åº“
â”œâ”€â”€ frontend/         # Reactå‰ç«¯æ„å»ºäº§ç‰©
â”‚   â””â”€â”€ dist/
â””â”€â”€ nginx.conf        # Nginxé…ç½®
```

**Nginxé…ç½®ç¤ºä¾‹**ï¼š
```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        root /opt/notemind/frontend/dist;
        try_files $uri $uri/ /index.html;
    }
    
    # APIä»£ç†
    location /api {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

**PM2å¯åŠ¨è„šæœ¬**ï¼š
```bash
pm2 start "uvicorn main:app --host 127.0.0.1 --port 8000" --name notemind
pm2 save
pm2 startup
```

---

ç°åœ¨æˆ‘ç»™ä½ ç”Ÿæˆå®Œæ•´çš„ä»£ç æ¡†æ¶ï¼å‡†å¤‡å¥½äº†å—ï¼Ÿ